<!DOCTYPE html>
<meta charset="utf-8">
<style>

path {
  stroke: #fff;
}

circle {
  fill: #000;
  opacity: 0.0;
  pointer-events: none;
}

</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

var width = 400,
    height =  400;

var vertices = [
 {"r":232.692307692,"g":180.153846154,"b":206.269230769, "width":313.192307692,"height":69.8461538462},
  {"r":213.5,"g":133.225,"b":83.7, "width":208.5,"height":211.175},
  {"r":208.619047619,"g":105.357142857,"b":21.3095238095, "width":180.904761905,"height":67.1666666667},
  {"r":163.066666667,"g":104.133333333,"b":54.4666666667, "width":381.033333333,"height":89.3},
  {"r":205.575757576,"g":181.333333333,"b":149.515151515, "width":330.333333333,"height":284.484848485},
  {"r":103.6,"g":97.56,"b":104.96, "width":89.24,"height":187.04},
  {"r":233.694444444,"g":128.444444444,"b":15.4722222222, "width":112.722222222,"height":19.5277777778},
  {"r":223.066666667,"g":171.1,"b":193.3, "width":102.833333333,"height":132.533333333},
  {"r":127.0,"g":116.27027027,"b":83.5945945946, "width":348.027027027,"height":126.216216216},
  {"r":200.92,"g":156.92,"b":62.52, "width":293.88,"height":24.24},
  {"r":208.117647059,"g":135.117647059,"b":138.147058824, "width":58.5294117647,"height":144.205882353},
  {"r":124.463414634,"g":106.317073171,"b":127.365853659, "width":25.8780487805,"height":205.682926829},
  {"r":243.363636364,"g":51.0227272727,"b":6.0, "width":30.9545454545,"height":21.7727272727},
  {"r":176.864864865,"g":131.567567568,"b":150.081081081, "width":290.0,"height":147.675675676},
  {"r":237.827586207,"g":192.172413793,"b":205.655172414, "width":93.1724137931,"height":275.862068966},
  {"r":169.566666667,"g":68.1,"b":26.5666666667, "width":166.466666667,"height":126.566666667},
  {"r":204.346153846,"g":167.269230769,"b":169.807692308, "width":66.9230769231,"height":321.230769231},
  {"r":181.45,"g":114.0,"b":27.825, "width":375.75,"height":318.525},
  {"r":229.216216216,"g":139.513513514,"b":11.9189189189, "width":377.216216216,"height":244.702702703},
  {"r":211.6,"g":191.85,"b":62.0, "width":353.35,"height":50.65},
  {"r":175.694444444,"g":145.027777778,"b":140.472222222, "width":129.166666667,"height":327.583333333},
  {"r":189.4,"g":65.2,"b":41.225, "width":27.675,"height":85.975},
  {"r":229.475,"g":181.975,"b":203.225, "width":296.825,"height":328.025},
  {"r":128.04,"g":182.96,"b":159.96, "width":146.92,"height":213.72},
  {"r":141.333333333,"g":94.119047619,"b":87.6666666667, "width":287.69047619,"height":369.857142857},
  {"r":206.142857143,"g":163.035714286,"b":187.857142857, "width":276.107142857,"height":99.0},
  {"r":169.111111111,"g":70.5925925926,"b":70.2962962963, "width":218.259259259,"height":156.481481481},
  {"r":114.368421053,"g":56.3947368421,"b":56.5263157895, "width":150.842105263,"height":173.815789474},
  {"r":143.875,"g":128.0625,"b":70.0625, "width":185.90625,"height":306.25},
  {"r":165.6875,"g":127.5,"b":45.28125, "width":243.5,"height":42.875},
  {"r":153.0,"g":74.2926829268,"b":64.2195121951, "width":380.243902439,"height":174.195121951},
  {"r":135.363636364,"g":105.121212121,"b":48.9696969697, "width":241.212121212,"height":295.181818182},
  {"r":158.75,"g":62.625,"b":54.5833333333, "width":380.833333333,"height":22.2083333333},
  {"r":222.5,"g":192.769230769,"b":119.423076923, "width":140.192307692,"height":272.461538462},
  {"r":92.9696969697,"g":132.121212121,"b":121.545454545, "width":156.121212121,"height":371.757575758},
  {"r":150.571428571,"g":96.7142857143,"b":52.9285714286, "width":227.821428571,"height":99.5357142857},
  {"r":211.583333333,"g":188.375,"b":181.958333333, "width":122.875,"height":80.6666666667},
  {"r":149.379310345,"g":131.275862069,"b":143.275862069, "width":83.7586206897,"height":376.896551724},
  {"r":179.333333333,"g":127.424242424,"b":69.6666666667, "width":201.666666667,"height":258.212121212},
  {"r":207.34375,"g":170.9375,"b":154.5, "width":75.1875,"height":64.0625},
  {"r":198.0,"g":113.166666667,"b":53.0740740741, "width":216.333333333,"height":363.148148148},
  {"r":90.2571428571,"g":141.485714286,"b":115.742857143, "width":24.4571428571,"height":279.171428571},
  {"r":154.147058824,"g":142.088235294,"b":80.4705882353, "width":326.735294118,"height":200.323529412},
  {"r":248.0,"g":1.54545454545,"b":0.681818181818, "width":18.3181818182,"height":136.227272727},
  {"r":233.66,"g":199.42,"b":111.38, "width":279.58,"height":256.22},
  {"r":157.416666667,"g":94.9444444444,"b":44.9166666667, "width":358.805555556,"height":374.944444444},
  {"r":55.3333333333,"g":144.166666667,"b":183.25, "width":24.5555555556,"height":359.166666667},
  {"r":214.129032258,"g":23.935483871,"b":23.5161290323, "width":189.64516129,"height":18.9677419355},
  {"r":170.941176471,"g":106.941176471,"b":34.8235294118, "width":260.705882353,"height":200.441176471},
  {"r":225.0,"g":209.189189189,"b":20.972972973, "width":77.972972973,"height":236.675675676},
 ]
function onlyUnique(value, index, self) { 
    return self.indexOf(value) === index;
}

var voronoi = d3.geom.voronoi()
    .clipExtent([[0, 0], [width, height]]);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var path = svg.append("g").selectAll("path");

draw();
function format(centers) {
  var some_data = []
  for (index in centers){
    some_data.push([centers[index].width,centers[index].height])
  }
  return some_data
}

function getRGB(i) {
  c = vertices[i]
  return d3.rgb(c.r,c.g,c.b)
}

function draw() {
  path = path
      .data(voronoi(format(vertices)), polygon);

  path.exit().remove();

  path.enter().append("path")
      .style("fill", function(d, i) { return getRGB(i); })
      .attr("d", polygon);

  path.order();
}

svg.selectAll("circle")
    .data(vertices)
  .enter().append("circle")
    .attr("transform", function(d) { return "translate(" + d.width+","+d.height + ")"; })
    .attr("r", 1.5);

function polygon(d) {
  return "M" + d.join("L") + "Z";
}

</script>
