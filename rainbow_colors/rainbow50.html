<!DOCTYPE html>
<meta charset="utf-8">
<style>

path {
  stroke: #fff;
}

circle {
  fill: #000;
  opacity: 0.0;
  pointer-events: none;
}

</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

var width = 552,
    height =  350;

var vertices = [
 {"r":252.484662577,"g":252.773006135,"b":56.9325153374, "width":432.625766871,"height":152.834355828},
  {"r":82.28,"g":213.76,"b":23.56, "width":438.56,"height":241.48},
  {"r":230.0,"g":107.615384615,"b":80.8846153846, "width":397.038461538,"height":117.538461538},
  {"r":244.772727273,"g":24.6363636364,"b":177.318181818, "width":47.6363636364,"height":201.272727273},
  {"r":19.03125,"g":141.28125,"b":241.53125, "width":137.15625,"height":208.90625},
  {"r":170.473684211,"g":72.9736842105,"b":18.3947368421, "width":286.710526316,"height":70.8684210526},
  {"r":245.738562092,"g":140.620915033,"b":2.71895424837, "width":447.888888889,"height":119.163398693},
  {"r":129.447368421,"g":93.7368421053,"b":74.2894736842, "width":418.473684211,"height":71.7894736842},
  {"r":43.2692307692,"g":170.0,"b":187.153846154, "width":213.692307692,"height":265.230769231},
  {"r":12.8034188034,"g":80.9743589744,"b":13.7435897436, "width":334.461538462,"height":196.401709402},
  {"r":45.4634146341,"g":139.658536585,"b":134.292682927, "width":238.170731707,"height":232.609756098},
  {"r":125.956989247,"g":6.04301075269,"b":16.0, "width":112.204301075,"height":140.301075269},
  {"r":201.583333333,"g":252.388888889,"b":165.222222222, "width":380.888888889,"height":170.444444444},
  {"r":3.70833333333,"g":26.2916666667,"b":119.541666667, "width":133.291666667,"height":292.458333333},
  {"r":43.0094339623,"g":166.603773585,"b":85.4811320755, "width":280.830188679,"height":143.79245283},
  {"r":241.25,"g":168.708333333,"b":183.916666667, "width":226.0,"height":135.625},
  {"r":181.820512821,"g":155.128205128,"b":135.615384615, "width":436.333333333,"height":112.307692308},
  {"r":238.383333333,"g":250.275,"b":248.716666667, "width":225.083333333,"height":200.791666667},
  {"r":72.032,"g":23.44,"b":8.44, "width":269.392,"height":76.704},
  {"r":6.84057971014,"g":46.6086956522,"b":93.1014492754, "width":132.362318841,"height":222.942028986},
  {"r":245.654676259,"g":216.654676259,"b":5.48920863309, "width":446.172661871,"height":156.71942446},
  {"r":101.352941176,"g":210.960784314,"b":203.431372549, "width":224.450980392,"height":193.37254902},
  {"r":116.051282051,"g":245.478632479,"b":243.273504274, "width":231.991452991,"height":231.846153846},
  {"r":105.983870968,"g":196.548387097,"b":81.0, "width":331.483870968,"height":144.935483871},
  {"r":40.85,"g":218.75,"b":236.2, "width":205.05,"height":272.825},
  {"r":56.3157894737,"g":78.7368421053,"b":112.842105263, "width":128.315789474,"height":240.526315789},
  {"r":170.404255319,"g":250.095744681,"b":126.829787234, "width":364.393617021,"height":159.35106383},
  {"r":19.0188679245,"g":212.735849057,"b":112.283018868, "width":304.301886792,"height":199.622641509},
  {"r":175.339901478,"g":251.822660099,"b":249.54679803, "width":222.054187192,"height":191.044334975},
  {"r":77.0857142857,"g":217.114285714,"b":147.657142857, "width":282.885714286,"height":152.942857143},
  {"r":13.0869565217,"g":108.02173913,"b":170.239130435, "width":149.826086957,"height":173.108695652},
  {"r":42.7878787879,"g":97.0,"b":160.0, "width":127.818181818,"height":182.121212121},
  {"r":75.5,"g":134.729166667,"b":22.375, "width":358.229166667,"height":156.625},
  {"r":245.627272727,"g":47.2,"b":104.909090909, "width":47.9727272727,"height":142.272727273},
  {"r":16.1632653061,"g":134.489795918,"b":49.6326530612, "width":308.275510204,"height":182.540816327},
  {"r":251.824561404,"g":99.6666666667,"b":158.456140351, "width":22.5964912281,"height":137.087719298},
  {"r":3.11111111111,"g":86.0,"b":222.222222222, "width":129.0,"height":245.0},
  {"r":34.6111111111,"g":101.611111111,"b":81.4166666667, "width":248.75,"height":206.861111111},
  {"r":218.441666667,"g":13.4833333333,"b":82.625, "width":47.1916666667,"height":174.708333333},
  {"r":7.58536585366,"g":63.5853658537,"b":149.780487805, "width":131.146341463,"height":225.268292683},
  {"r":146.588235294,"g":233.058823529,"b":42.3823529412, "width":404.441176471,"height":203.441176471},
  {"r":145.388888889,"g":241.633333333,"b":95.2, "width":367.177777778,"height":165.233333333},
  {"r":4.77219430486,"g":2.69681742044,"b":2.1608040201, "width":373.060301508,"height":186.132328308},
  {"r":84.6363636364,"g":15.6363636364,"b":102.727272727, "width":89.6363636364,"height":171.090909091},
  {"r":182.588235294,"g":5.47899159664,"b":46.6554621849, "width":53.3949579832,"height":192.621848739},
  {"r":8.09411764706,"g":17.4941176471,"b":57.4705882353, "width":142.776470588,"height":264.247058824},
  {"r":241.875,"g":53.5,"b":17.3977272727, "width":413.681818182,"height":89.7272727273},
  {"r":98.1904761905,"g":120.666666667,"b":173.666666667, "width":128.619047619,"height":224.619047619},
  {"r":15.5471698113,"g":79.7924528302,"b":126.622641509, "width":143.037735849,"height":163.301886792},
  {"r":130.076923077,"g":3.92307692308,"b":64.3076923077, "width":77.3076923077,"height":186.423076923},
 ]
function onlyUnique(value, index, self) { 
    return self.indexOf(value) === index;
}

var voronoi = d3.geom.voronoi()
    .clipExtent([[0, 0], [width, height]]);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var path = svg.append("g").selectAll("path");

draw();
function format(centers) {
  var some_data = []
  for (index in centers){
    some_data.push([centers[index].width,centers[index].height])
  }
  return some_data
}

function getRGB(i) {
  c = vertices[i]
  return d3.rgb(c.r,c.g,c.b)
}

function draw() {
  path = path
      .data(voronoi(format(vertices)), polygon);

  path.exit().remove();

  path.enter().append("path")
      .style("fill", function(d, i) { return getRGB(i); })
      .attr("d", polygon);

  path.order();
}

svg.selectAll("circle")
    .data(vertices)
  .enter().append("circle")
    .attr("transform", function(d) { return "translate(" + d.width+","+d.height + ")"; })
    .attr("r", 1.5);

function polygon(d) {
  return "M" + d.join("L") + "Z";
}

</script>
